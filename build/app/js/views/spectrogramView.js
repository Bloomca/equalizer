/*! Created at 07-12-2014 */
define(["jquery","underscore","backbone","settings"],function(a,b,c,d){var e=c.View.extend({el:"#spectrogram-container",initialize:function(){this.canvas=this.el.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height;var a=this;d.on("start:app",function(){setInterval(function(){a.drawSpectrogram()},33)})},drawSpectrogram:function(){var a=new Uint8Array(d.analyser.frequencyBinCount);d.analyser.getByteFrequencyData(a),this.ctx.clearRect(0,0,this.width,this.height);for(var b=0;b<a.length;b++){var c=a[b];this.ctx.fillRect(1.5*b,this.height,1,2*-c)}}});return e});